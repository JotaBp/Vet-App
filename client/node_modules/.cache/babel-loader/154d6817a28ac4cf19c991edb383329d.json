{"ast":null,"code":"var _jsxFileName = \"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/App.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Navigation from './ui/navbar/Navbar';\nimport HomePage from './pages/homePage/HomePage';\nimport Signup from './pages/signup/Signup';\nimport Login from './pages/login/Login';\nimport DashboardHospital from './pages/dashboard/dashboardHospital/DashboardHospital';\nimport DashboardClient from './pages/dashboard/dashboardClient/DashboardClient';\nimport ProfileClient from './pages/profile/profileClient/ProfileClient';\nimport ProfileHospital from './pages/profile/profileHospital/ProfileHospital'; //Este no estÃ¡ terminado\n\nimport AuthService from '../service/auth.service';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = userObj => this.setState({\n      loggedInUser: userObj\n    }, () => console.log('El estado de App ha cambiado:', this.state));\n\n    this.fetchUser = () => {\n      if (this.state.loggedInUser === null) {\n        this.authService.isLoggedIn().then(response => this.setTheUser(response.data)).catch(() => this.setTheUser(false));\n      }\n    };\n\n    this.state = {\n      loggedInUser: null\n    };\n    this.authService = new AuthService();\n  }\n\n  render() {\n    console.log(this.state.loggedInUser);\n    this.fetchUser();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navigation, {\n      setTheUser: this.setTheUser,\n      loggedInUser: this.state.loggedInUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(HomePage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 49\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      render: props => /*#__PURE__*/React.createElement(Signup, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 52\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: props => /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 51\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/global\",\n      render: props => {\n        if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n          return /*#__PURE__*/React.createElement(DashboardHospital, Object.assign({}, props, {\n            loggedInUser: this.state.loggedInUser,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }\n          }));\n        } else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n          return /*#__PURE__*/React.createElement(DashboardClient, Object.assign({}, props, {\n            loggedInUser: this.state.loggedInUser,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/login\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: props => {\n        if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n          return /*#__PURE__*/React.createElement(ProfileHospital, Object.assign({}, props, {\n            loggedInUser: this.state.loggedInUser,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }\n          }));\n        } else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n          return /*#__PURE__*/React.createElement(ProfileClient, Object.assign({}, props, {\n            loggedInUser: this.state.loggedInUser,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/login\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 30\n            }\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","Navigation","HomePage","Signup","Login","DashboardHospital","DashboardClient","ProfileClient","ProfileHospital","AuthService","App","constructor","setTheUser","userObj","setState","loggedInUser","console","log","state","fetchUser","authService","isLoggedIn","then","response","data","catch","render","props","role"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AAEA,OAAO,sCAAP;AACA,OAAO,WAAP;AAEA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,iBAAP,MAA8B,uDAA9B;AACA,OAAOC,eAAP,MAA4B,mDAA5B;AACA,OAAOC,aAAP,MAA0B,6CAA1B;AACA,OAAOC,eAAP,MAA4B,iDAA5B,C,CAA8E;;AAE9E,OAAOC,WAAP,MAAwB,yBAAxB;;AAGA,MAAMC,GAAN,SAAkBb,SAAlB,CAA4B;AAE1Bc,EAAAA,WAAW,GAAG;AACZ;;AADY,SAMdC,UANc,GAMDC,OAAO,IAAI,KAAKC,QAAL,CAAc;AAAEC,MAAAA,YAAY,EAAEF;AAAhB,KAAd,EAAyC,MAAMG,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6C,KAAKC,KAAlD,CAA/C,CANV;;AAAA,SAQdC,SARc,GAQF,MAAM;AAChB,UAAI,KAAKD,KAAL,CAAWH,YAAX,KAA4B,IAAhC,EAAsC;AACpC,aAAKK,WAAL,CAAiBC,UAAjB,GACGC,IADH,CACQC,QAAQ,IAAI,KAAKX,UAAL,CAAgBW,QAAQ,CAACC,IAAzB,CADpB,EAEGC,KAFH,CAES,MAAM,KAAKb,UAAL,CAAgB,KAAhB,CAFf;AAGD;AACF,KAda;;AAEZ,SAAKM,KAAL,GAAa;AAAEH,MAAAA,YAAY,EAAE;AAAhB,KAAb;AACA,SAAKK,WAAL,GAAmB,IAAIX,WAAJ,EAAnB;AACD;;AAaDiB,EAAAA,MAAM,GAAG;AAEPV,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWH,YAAvB;AAEA,SAAKI,SAAL;AAEA,wBACE,uDACE,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAE,KAAKP,UAA7B;AAAyC,MAAA,YAAY,EAAE,KAAKM,KAAL,CAAWH,YAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,KAAK,MAArB;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAEY,KAAK,iBAAI,oBAAC,MAAD,oBAAYA,KAAZ;AAAmB,QAAA,UAAU,EAAE,KAAKf,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,MAAM,EAAEe,KAAK,iBAAI,oBAAC,KAAD,oBAAWA,KAAX;AAAkB,QAAA,UAAU,EAAE,KAAKf,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAKE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAEe,KAAK,IAAI;AAErC,YAAI,KAAKT,KAAL,CAAWH,YAAX,IAA2B,KAAKG,KAAL,CAAWH,YAAX,CAAwBa,IAAxB,KAAiC,aAAhE,EAA+E;AAE7E,8BAAQ,oBAAC,iBAAD,oBAAuBD,KAAvB;AAA8B,YAAA,YAAY,EAAE,KAAKT,KAAL,CAAWH,YAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AACD,SAHD,MAKK,IAAI,KAAKG,KAAL,CAAWH,YAAX,IAA2B,KAAKG,KAAL,CAAWH,YAAX,CAAwBa,IAAxB,KAAiC,QAAhE,EAA0E;AAE7E,8BAAQ,oBAAC,eAAD,oBAAqBD,KAArB;AAA4B,YAAA,YAAY,EAAE,KAAKT,KAAL,CAAWH,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AACD,SAHI,MAKA;AAEH,8BAAQ,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AACD;AAEF,OAjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAyBE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,MAAM,EAAEY,KAAK,IAAI;AAEtC,YAAI,KAAKT,KAAL,CAAWH,YAAX,IAA2B,KAAKG,KAAL,CAAWH,YAAX,CAAwBa,IAAxB,KAAiC,aAAhE,EAA+E;AAE7E,8BAAQ,oBAAC,eAAD,oBAAqBD,KAArB;AAA4B,YAAA,YAAY,EAAE,KAAKT,KAAL,CAAWH,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AACD,SAHD,MAKK,IAAI,KAAKG,KAAL,CAAWH,YAAX,IAA2B,KAAKG,KAAL,CAAWH,YAAX,CAAwBa,IAAxB,KAAiC,QAAhE,EAA0E;AAE7E,8BAAQ,oBAAC,aAAD,oBAAmBD,KAAnB;AAA0B,YAAA,YAAY,EAAE,KAAKT,KAAL,CAAWH,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AACD,SAHI,MAKA;AAAE,8BAAQ,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AAAmC;AAC3C,OAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBF,CAFF,CAHF,CADF;AAmDD;;AA5EyB;;AA+E5B,eAAeL,GAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport Navigation from './ui/navbar/Navbar'\nimport HomePage from './pages/homePage/HomePage'\nimport Signup from './pages/signup/Signup'\nimport Login from './pages/login/Login'\nimport DashboardHospital from './pages/dashboard/dashboardHospital/DashboardHospital'\nimport DashboardClient from './pages/dashboard/dashboardClient/DashboardClient';\nimport ProfileClient from './pages/profile/profileClient/ProfileClient'\nimport ProfileHospital from './pages/profile/profileHospital/ProfileHospital' //Este no estÃ¡ terminado\n\nimport AuthService from '../service/auth.service'\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n  }\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj }, () => console.log('El estado de App ha cambiado:', this.state))\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n\n  render() {\n\n    console.log(this.state.loggedInUser)\n\n    this.fetchUser()\n\n    return (\n      <>\n        <Navigation setTheUser={this.setTheUser} loggedInUser={this.state.loggedInUser} />\n\n        <main>\n\n          <Switch>\n            <Route path=\"/\" exact render={() => <HomePage />} />\n            <Route path=\"/signup\" render={props => <Signup {...props} setTheUser={this.setTheUser} />} />\n            <Route path=\"/login\" render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n\n            <Route path=\"/global\" render={props => {\n\n              if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n\n                return (<DashboardHospital {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n\n                return (<DashboardClient {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else {\n\n                return (<Redirect to=\"/login\" />)\n              }\n\n            }} />\n\n\n            <Route path=\"/profile\" render={props => {\n\n              if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n\n                return (<ProfileHospital {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n\n                return (<ProfileClient {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else { return (<Redirect to=\"/login\" />) }\n            }} />\n\n          </Switch>\n\n        </main>\n      </>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}