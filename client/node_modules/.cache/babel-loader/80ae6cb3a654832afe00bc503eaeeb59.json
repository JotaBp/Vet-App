{"ast":null,"code":"import _defineProperty from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import QueryService from'../../../../service/query.service';import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';var QueryForm=/*#__PURE__*/function(_Component){_inherits(QueryForm,_Component);var _super=_createSuper(QueryForm);function QueryForm(props){var _this;_classCallCheck(this,QueryForm);_this=_super.call(this,props);_this.displayHospitals=function(){return _this.props.hospitalArr.map(function(hospital){return/*#__PURE__*/React.createElement(\"option\",{key:hospital._id,value:hospital._id},hospital.username);});};_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();_this.queryService.queryCreate(_this.state).then(function(){return _this.props.finishQueryCreate();}).catch(function(err){return console.log(err);});};_this.state={subject:'',description:'',date:'',pet:_this.props.petId,vetHospital:''};_this.queryService=new QueryService();return _this;}_createClass(QueryForm,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Nueva Consulta\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"asunto\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Asunto\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"subject\",type:\"text\",value:this.state.subject,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"desc\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Descripcion\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"description\",type:\"text\",value:this.state.description,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"date\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Fecha\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"date\",type:\"date\",value:this.state.date,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"select-hospital\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Selecciona hospital\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",name:\"vetHospital\",value:this.state.vetHospital,onChange:this.handleInputChange},/*#__PURE__*/React.createElement(\"option\",null,\"Seleccionar\"),this.displayHospitals())),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:function onClick(){return _this2.props.closeModal();},style:{marginRight:'10px'}},\"Cerrar\"),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",type:\"submit\"},\"Nueva consulta\")));}}]);return QueryForm;}(Component);export default QueryForm;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/pages/query/queryForm/QueryForm.js"],"names":["React","Component","QueryService","Container","Form","Button","QueryForm","props","displayHospitals","hospitalArr","map","hospital","_id","username","handleInputChange","e","target","name","value","setState","handleSubmit","preventDefault","queryService","queryCreate","state","then","finishQueryCreate","catch","err","console","log","subject","description","date","pet","petId","vetHospital","closeModal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport QueryService from '../../../../service/query.service'\n\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\n\nclass QueryForm extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            subject: '',\n            description: '',\n            date: '',\n            pet: this.props.petId,\n            vetHospital: '',\n\n        }\n        this.queryService = new QueryService()\n    }\n\n    displayHospitals = () => {\n        return this.props.hospitalArr.map(hospital => {\n            return (<option key={hospital._id} value={hospital._id}>{hospital.username}</option>)\n        })\n    }\n\n    handleInputChange = e => {\n        const { name, value } = e.target\n\n        this.setState({\n            [name]: value\n        })\n    }\n\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.queryService.queryCreate(this.state)\n            .then(() => this.props.finishQueryCreate())\n            .catch(err => console.log(err))\n    }\n\n    render() {\n\n        return (\n            <Container>\n\n                <h1>Nueva Consulta</h1>\n                <hr></hr>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Group controlId=\"asunto\">\n                        <Form.Label>Asunto</Form.Label>\n                        <Form.Control name=\"subject\" type=\"text\" value={this.state.subject} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"desc\">\n                        <Form.Label>Descripcion</Form.Label>\n                        <Form.Control name=\"description\" type=\"text\" value={this.state.description} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"date\">\n                        <Form.Label>Fecha</Form.Label>\n                        <Form.Control name=\"date\" type=\"date\" value={this.state.date} onChange={this.handleInputChange} />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"select-hospital\">\n                        <Form.Label>Selecciona hospital</Form.Label>\n                        <Form.Control as=\"select\" name=\"vetHospital\" value={this.state.vetHospital} onChange={this.handleInputChange} >\n                            <option>Seleccionar</option>\n                            {this.displayHospitals()}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Button variant=\"dark\" onClick={() => this.props.closeModal()} style={{ marginRight: '10px' }}>Cerrar</Button>\n                    <Button variant=\"dark\" type=\"submit\">Nueva consulta</Button>\n                </Form>\n            </Container>\n        )\n    }\n}\n\nexport default QueryForm"]},"metadata":{},"sourceType":"module"}