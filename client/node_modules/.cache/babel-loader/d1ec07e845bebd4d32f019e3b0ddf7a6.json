{"ast":null,"code":"var _jsxFileName = \"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/pages/pets/petCardClient/PetCardClient.js\";\nimport React, { Component } from 'react';\nimport './PetCardClient.css';\nimport CiteService from '../../../../service/cite.service';\nimport QueryService from '../../../../service/query.service';\nimport QueryForm from '../../query/queryForm/QueryForm';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Modal from 'react-bootstrap/Modal';\nimport Toast from 'react-bootstrap/Toast';\n\nclass PetCardClient extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleModal = visible => this.setState({\n      modalShow: visible\n    });\n\n    this.handletoast = (visible, text = '') => {\n      const toastCopy = { ...this.state.toast\n      };\n      toastCopy.show = visible;\n      toastCopy.text = text;\n      this.setState({\n        toast: toastCopy\n      });\n    };\n\n    this.getQuerysInfo = () => {\n      this.queryService.queryFromPet(this.props._id).then(response => {\n        console.log(response.data);\n        return this.setState({\n          querys: response.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getCitesInfo = () => {\n      this.citeService.citesFromPet(this.props._id).then(response => this.setState({\n        cites: response.data\n      })).catch(err => console.log(err));\n    };\n\n    this.finishQueryPost = () => {\n      this.getQuerysInfo();\n      this.handleModal(false);\n      this.handletoast(true, 'Consulta enviada al Hospital');\n    };\n\n    this.componentDidMount = () => {\n      this.getQuerysInfo();\n      this.getCitesInfo();\n    };\n\n    this.state = {\n      petInfo: {\n        id: this.props._id,\n        petPicPath: this.props.petPicPath,\n        name: this.props.name,\n        species: this.props.species,\n        breed: this.props.breed,\n        vetHospital: this.props.vetHospital\n      },\n      cites: \"\",\n      querys: \"\",\n      toast: {\n        show: false,\n        text: ''\n      },\n      modalShow: false\n    };\n    this.citeService = new CiteService();\n    this.queryService = new QueryService();\n  }\n\n  render() {\n    console.log(this.state.querys);\n    console.log(this.props.vetHospital);\n    console.log(this.state.toast.text);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n      as: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      as: \"article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Img, {\n      variant: \"top\",\n      src: this.state.petInfo.petPicPath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Card.Header, {\n      as: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, \" \", this.state.petInfo.name, \" \"), \" \", /*#__PURE__*/React.createElement(ListGroup, {\n      className: \"list-group-flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, \" \", this.state.petInfo.species, \" \"), \" \", /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 34\n      }\n    }, \" \", this.state.petInfo.breed, \" \"), \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, \" Consultas \"), this.state.querys && this.state.querys.map(query => {\n      console.log(query.citeHospital);\n      return /*#__PURE__*/React.createElement(Card.Body, {\n        className: \"body\",\n        key: query._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 33\n        }\n      }, \" \", query.subject, \" \"), \" \", /*#__PURE__*/React.createElement(Card.Subtitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 50\n        }\n      }, \" \", query.date, \" \"), \" \", /*#__PURE__*/React.createElement(Card.Text, {\n        as: \"p\",\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 53\n        }\n      }, \" \", query.description, \" \"), \" \", query.citeHospital && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: query.citeHospital.description ? 'block' : 'none'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 59\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 41\n        }\n      }, \" Respuesta \"), \" \", /*#__PURE__*/React.createElement(Card.Text, {\n        as: \"p\",\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 79\n        }\n      }, \" \", query.citeHospital.description, \" \")), \" \");\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, \" Citas \"), this.state.cites && this.state.cites.map(cite => {\n      return /*#__PURE__*/React.createElement(Card.Body, {\n        className: \"body\",\n        key: cite._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, \" \", cite.subject, \" \"), \" \", /*#__PURE__*/React.createElement(Card.Subtitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 46\n        }\n      }, \" \", cite.date, \" \"), \" \", /*#__PURE__*/React.createElement(Card.Text, {\n        as: \"p\",\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 49\n        }\n      }, \" \", cite.description, \" \"), \" \");\n    }), /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleModal(true),\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, \" Crear Consulta para \", this.state.petInfo.name, \" \")), \" \")))), /*#__PURE__*/React.createElement(Modal, {\n      className: \"modal-window\",\n      show: this.state.modalShow,\n      onHide: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(QueryForm, {\n      finishQueryCreate: this.finishQueryPost,\n      petId: this.state.petInfo.id,\n      hospitalArr: this.props.vetHospital,\n      closeModal: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }\n    }), \" \"), \" \"), /*#__PURE__*/React.createElement(Toast, {\n      className: \"toast-window\",\n      onClose: () => this.handletoast(false),\n      show: this.state.toast.show,\n      delay: 3000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 21\n      }\n    }, \" Mensaje \"), \" \"), \" \", /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 36\n      }\n    }, \" \", this.state.toast.text, \" \"), \" \"));\n  }\n\n}\n\nexport default PetCardClient;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/pages/pets/petCardClient/PetCardClient.js"],"names":["React","Component","CiteService","QueryService","QueryForm","Container","Row","Col","Card","Button","ListGroup","Modal","Toast","PetCardClient","constructor","props","handleModal","visible","setState","modalShow","handletoast","text","toastCopy","state","toast","show","getQuerysInfo","queryService","queryFromPet","_id","then","response","console","log","data","querys","catch","err","getCitesInfo","citeService","citesFromPet","cites","finishQueryPost","componentDidMount","petInfo","id","petPicPath","name","species","breed","vetHospital","render","map","query","citeHospital","subject","date","description","display","cite"],"mappings":"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","sourcesContent":["import React, {\n    Component\n} from 'react'\n\nimport './PetCardClient.css'\n\nimport CiteService from '../../../../service/cite.service'\nimport QueryService from '../../../../service/query.service'\n\nimport QueryForm from '../../query/queryForm/QueryForm'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Modal from 'react-bootstrap/Modal'\nimport Toast from 'react-bootstrap/Toast'\n\n\nclass PetCardClient extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n\n            petInfo: {\n                id: this.props._id,\n                petPicPath: this.props.petPicPath,\n                name: this.props.name,\n                species: this.props.species,\n                breed: this.props.breed,\n                vetHospital: this.props.vetHospital,\n\n            },\n            cites: \"\",\n            querys: \"\",\n\n\n            toast: {\n                show: false,\n                text: ''\n            },\n            modalShow: false\n        }\n        this.citeService = new CiteService()\n        this.queryService = new QueryService()\n\n    }\n\n    handleModal = visible => this.setState({\n        modalShow: visible\n    })\n    handletoast = (visible, text = '') => {\n        const toastCopy = {\n            ...this.state.toast\n        }\n        toastCopy.show = visible\n        toastCopy.text = text\n        this.setState({\n            toast: toastCopy\n        })\n    }\n\n    getQuerysInfo = () => {\n        this.queryService.queryFromPet(this.props._id)\n            .then(response => {\n                console.log(response.data)\n                return this.setState({\n                    querys: response.data\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    getCitesInfo = () => {\n        this.citeService.citesFromPet(this.props._id)\n            .then(response => this.setState({\n                cites: response.data\n            }))\n            .catch(err => console.log(err))\n    }\n\n    finishQueryPost = () => {\n        this.getQuerysInfo()\n        this.handleModal(false)\n        this.handletoast(true, 'Consulta enviada al Hospital')\n    }\n\n    componentDidMount = () => {\n        this.getQuerysInfo()\n        this.getCitesInfo()\n    }\n\n\n    render() {\n        console.log(this.state.querys)\n        console.log(this.props.vetHospital)\n        console.log(this.state.toast.text)\n\n        return ( <\n            >\n            <\n            Container as = \"section\" >\n\n\n            <\n            Row >\n            <\n            Col as = \"article\" >\n            <\n            Card className = \"card\" >\n            <\n            Card.Img variant = \"top\"\n            src = {\n                this.state.petInfo.petPicPath\n            }\n            />\n\n            <\n            Card.Header as = \"h5\" > {\n                this.state.petInfo.name\n            } < /Card.Header> <\n            ListGroup className = \"list-group-flush\" >\n            <\n            ListGroup.Item > {\n                this.state.petInfo.species\n            } < /ListGroup.Item> <\n            ListGroup.Item > {\n                this.state.petInfo.breed\n            } < /ListGroup.Item> <\n            /ListGroup>\n\n            <\n            h4 > Consultas < /h4>\n\n            {\n                this.state.querys && this.state.querys.map(query => {\n\n                            console.log(query.citeHospital)\n\n                            return (\n\n                                <\n                                Card.Body className = \"body\"\n                                key = {\n                                    query._id\n                                } >\n                                <\n                                Card.Title > {\n                                    query.subject\n                                } < /Card.Title> <\n                                Card.Subtitle > {\n                                    query.date\n                                } < /Card.Subtitle> <\n                                Card.Text as = \"p\"\n                                className = \"card-text\" > {\n                                    query.description\n                                } < /Card.Text> {\n                                    query.citeHospital && < div style = {\n                                            {\n                                                display: query.citeHospital.description ? 'block' : 'none'\n                                            }\n                                        } >\n\n                                        <\n                                        Card.Title > Respuesta < /Card.Title> <\n                                        Card.Text as = \"p\"\n                                    className = \"card-text\" > {\n                                            query.citeHospital.description\n                                        } < /Card.Text>\n\n                                        <\n                                        /div>} <\n                                        /Card.Body>\n                                )\n                            })\n                    }\n\n                    <\n                    h4 > Citas < /h4>\n\n                {\n                    this.state.cites && this.state.cites.map(cite => {\n\n\n                        return ( <\n                            Card.Body className = \"body\"\n                            key = {\n                                cite._id\n                            } >\n                            <\n                            Card.Title > {\n                                cite.subject\n                            } < /Card.Title> <\n                            Card.Subtitle > {\n                                cite.date\n                            } < /Card.Subtitle> <\n                            Card.Text as = \"p\"\n                            className = \"card-text\" > {\n                                cite.description\n                            } < /Card.Text> <\n                            /Card.Body>\n                        )\n                    })\n                }\n\n\n                <\n                Card.Footer >\n                    <\n                    Button onClick = {\n                        () => this.handleModal(true)\n                    }\n                variant = \"dark\" > Crear Consulta para {\n                        this.state.petInfo.name\n                    } < /Button>\n\n                    <\n                    /Card.Footer> <\n                    /Card>\n\n                    <\n                    /Col>\n\n                    <\n                    /Row>\n\n                    <\n                    /Container>\n\n                    <\n                    Modal className = \"modal-window\"\n                show = {\n                    this.state.modalShow\n                }\n                onHide = {\n                        () => this.handleModal(false)\n                    } >\n                    <\n                    Modal.Body >\n                    <\n                    QueryForm finishQueryCreate = {\n                        this.finishQueryPost\n                    }\n                petId = {\n                    this.state.petInfo.id\n                }\n                hospitalArr = {\n                    this.props.vetHospital\n                }\n                closeModal = {\n                    () => this.handleModal(false)\n                }\n                /> <\n                /Modal.Body> <\n                /Modal>\n\n                <\n                Toast className = \"toast-window\"\n                onClose = {\n                    () => this.handletoast(false)\n                }\n                show = {\n                    this.state.toast.show\n                }\n                delay = {\n                        3000\n                    } >\n                    <\n                    Toast.Header >\n                    <\n                    strong className = \"mr-auto\" > Mensaje < /strong> <\n                    /Toast.Header> <\n                    Toast.Body > {\n                        this.state.toast.text\n                    } < /Toast.Body> <\n                    /Toast>\n\n                    <\n                    />\n            )\n        }\n    }\n\n    export default PetCardClient"]},"metadata":{},"sourceType":"module"}