{"ast":null,"code":"import _objectSpread from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./PetCardClient.css';import CiteService from'../../../../service/cite.service';import QueryService from'../../../../service/query.service';import QueryForm from'../../query/queryForm/QueryForm';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import ListGroup from'react-bootstrap/ListGroup';import Modal from'react-bootstrap/Modal';import Toast from'react-bootstrap/Toast';var PetCardClient=/*#__PURE__*/function(_Component){_inherits(PetCardClient,_Component);var _super=_createSuper(PetCardClient);function PetCardClient(props){var _this;_classCallCheck(this,PetCardClient);_this=_super.call(this,props);_this.handleModal=function(visible){return _this.setState({modalShow:visible});};_this.handletoast=function(visible){var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var toastCopy=_objectSpread({},_this.state.toast);toastCopy.show=visible;toastCopy.text=text;_this.setState({toast:toastCopy});};_this.getQuerysInfo=function(){_this.queryService.queryFromPet(_this.props._id).then(function(response){return _this.setState({querys:response.data});}).catch(function(err){return console.log(err);});};_this.getCitesInfo=function(){_this.citeService.citesFromPet(_this.props._id).then(function(response){return _this.setState({cites:response.data});}).catch(function(err){return console.log(err);});};_this.finishQueryPost=function(){_this.getQuerysInfo();_this.handleModal(false);_this.handletoast(true,'Consulta enviada al Hospital');};_this.componentDidMount=function(){_this.getQuerysInfo();_this.getCitesInfo();};_this.state={petInfo:{id:_this.props._id,petPicPath:_this.props.petPicPath,name:_this.props.name,species:_this.props.species,breed:_this.props.breed,vetHospital:_this.props.vetHospital},cites:\"\",querys:\"\",toast:{show:false,text:''},modalShow:false};_this.citeService=new CiteService();_this.queryService=new QueryService();return _this;}_createClass(PetCardClient,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{as:\"section\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{as:\"article\"},/*#__PURE__*/React.createElement(Card,{className:\"card\"},/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:this.state.petInfo.petPicPath}),/*#__PURE__*/React.createElement(Card.Header,{as:\"h5\"},this.state.petInfo.name),/*#__PURE__*/React.createElement(ListGroup,{className:\"list-group-flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,this.state.petInfo.species),/*#__PURE__*/React.createElement(ListGroup.Item,null,this.state.petInfo.breed)),/*#__PURE__*/React.createElement(\"h4\",{className:\"query\"},\"Consultas\"),this.state.querys&&this.state.querys.map(function(query){return/*#__PURE__*/React.createElement(Card.Body,{className:\"body\",key:query._id},/*#__PURE__*/React.createElement(Card.Title,null,query.subject),/*#__PURE__*/React.createElement(Card.Subtitle,null,query.date),/*#__PURE__*/React.createElement(Card.Text,{as:\"p\",className:\"card-text\"},query.description),query.citeHospital&&/*#__PURE__*/React.createElement(Card,{style:{display:query.citeHospital.description?'block':'none'}},/*#__PURE__*/React.createElement(Card.Title,{as:\"h5\",className:\"card-title-response\"},\"Respuesta\"),/*#__PURE__*/React.createElement(Card.Text,{as:\"p\",className:\"card-text-response\"},query.citeHospital.description)));}),/*#__PURE__*/React.createElement(\"h4\",{className:\"cite\"},\"Citas\"),this.state.cites&&this.state.cites.map(function(cite){return/*#__PURE__*/React.createElement(Card.Body,{className:\"body\",key:cite._id},/*#__PURE__*/React.createElement(Card.Title,null,cite.subject),/*#__PURE__*/React.createElement(Card.Subtitle,null,cite.date),/*#__PURE__*/React.createElement(Card.Text,{as:\"p\",className:\"card-text\"},cite.description));}),/*#__PURE__*/React.createElement(Card.Footer,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.handleModal(true);},variant:\"dark\"},\"Crear Consulta para \",this.state.petInfo.name)))))),/*#__PURE__*/React.createElement(Modal,{className:\"modal-window\",show:this.state.modalShow,onHide:function onHide(){return _this2.handleModal(false);}},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(QueryForm,{finishQueryCreate:this.finishQueryPost,petId:this.state.petInfo.id,hospitalArr:this.props.vetHospital,closeModal:function closeModal(){return _this2.handleModal(false);}}))),/*#__PURE__*/React.createElement(Toast,{className:\"toast-window\",onClose:function onClose(){return _this2.handletoast(false);},show:this.state.toast.show,delay:3000},/*#__PURE__*/React.createElement(Toast.Header,null,/*#__PURE__*/React.createElement(\"strong\",{className:\"mr-auto\"},\"Mensaje\")),/*#__PURE__*/React.createElement(Toast.Body,null,this.state.toast.text)));}}]);return PetCardClient;}(Component);export default PetCardClient;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/pages/pets/petCardClient/PetCardClient.js"],"names":["React","Component","CiteService","QueryService","QueryForm","Container","Row","Col","Card","Button","ListGroup","Modal","Toast","PetCardClient","props","handleModal","visible","setState","modalShow","handletoast","text","toastCopy","state","toast","show","getQuerysInfo","queryService","queryFromPet","_id","then","response","querys","data","catch","err","console","log","getCitesInfo","citeService","citesFromPet","cites","finishQueryPost","componentDidMount","petInfo","id","petPicPath","name","species","breed","vetHospital","map","query","subject","date","description","citeHospital","display","cite"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport './PetCardClient.css'\n\nimport CiteService from '../../../../service/cite.service'\nimport QueryService from '../../../../service/query.service'\n\nimport QueryForm from '../../query/queryForm/QueryForm'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Modal from 'react-bootstrap/Modal'\nimport Toast from 'react-bootstrap/Toast'\n\n\nclass PetCardClient extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n\n            petInfo: {\n                id: this.props._id,\n                petPicPath: this.props.petPicPath,\n                name: this.props.name,\n                species: this.props.species,\n                breed: this.props.breed,\n                vetHospital: this.props.vetHospital,\n\n            },\n            cites: \"\",\n            querys: \"\",\n\n\n            toast: {\n                show: false,\n                text: ''\n            },\n            modalShow: false\n        }\n        this.citeService = new CiteService()\n        this.queryService = new QueryService()\n\n    }\n\n    handleModal = visible => this.setState({ modalShow: visible })\n    handletoast = (visible, text = '') => {\n        const toastCopy = { ...this.state.toast }\n        toastCopy.show = visible\n        toastCopy.text = text\n        this.setState({ toast: toastCopy })\n    }\n\n    getQuerysInfo = () => {\n        this.queryService.queryFromPet(this.props._id)\n            .then(response => {\n                return this.setState({ querys: response.data })\n            })\n            .catch(err => console.log(err))\n    }\n\n    getCitesInfo = () => {\n        this.citeService.citesFromPet(this.props._id)\n            .then(response => this.setState({ cites: response.data }))\n            .catch(err => console.log(err))\n    }\n\n    finishQueryPost = () => {\n        this.getQuerysInfo()\n        this.handleModal(false)\n        this.handletoast(true, 'Consulta enviada al Hospital')\n    }\n\n    componentDidMount = () => {\n        this.getQuerysInfo()\n        this.getCitesInfo()\n    }\n\n\n    render() {\n\n        return (\n            <>\n                <Container as=\"section\">\n\n\n                    <Row>\n                        <Col as=\"article\">\n                            <Card className=\"card\">\n                                <Card.Img variant=\"top\" src={this.state.petInfo.petPicPath} />\n\n                                <Card.Header as=\"h5\">{this.state.petInfo.name}</Card.Header>\n                                <ListGroup className=\"list-group-flush\">\n                                    <ListGroup.Item>{this.state.petInfo.species}</ListGroup.Item>\n                                    <ListGroup.Item>{this.state.petInfo.breed}</ListGroup.Item>\n                                </ListGroup>\n\n                                <h4 className=\"query\" >Consultas</h4>\n\n                                {this.state.querys && this.state.querys.map(query => {\n\n\n                                    return (\n\n                                        <Card.Body className=\"body\" key={query._id}>\n                                            <Card.Title>{query.subject}</Card.Title>\n                                            <Card.Subtitle>{query.date}</Card.Subtitle>\n                                            <Card.Text as=\"p\" className=\"card-text\">{query.description}</Card.Text>\n                                            {query.citeHospital && <Card style={{ display: query.citeHospital.description ? 'block' : 'none' }}>\n\n                                                <Card.Title as=\"h5\" className=\"card-title-response\">Respuesta</Card.Title>\n                                                <Card.Text as=\"p\" className=\"card-text-response\">{query.citeHospital.description}</Card.Text>\n\n                                            </Card>}\n                                        </Card.Body>\n                                    )\n                                })}\n\n                                <h4 className=\"cite\">Citas</h4>\n\n                                {this.state.cites && this.state.cites.map(cite => {\n\n\n                                    return (\n                                        <Card.Body className=\"body\" key={cite._id}>\n                                            <Card.Title>{cite.subject}</Card.Title>\n                                            <Card.Subtitle>{cite.date}</Card.Subtitle>\n                                            <Card.Text as=\"p\" className=\"card-text\">{cite.description}</Card.Text>\n                                        </Card.Body>\n                                    )\n                                })}\n\n\n                                <Card.Footer>\n                                    <Button onClick={() => this.handleModal(true)} variant=\"dark\" >Crear Consulta para {this.state.petInfo.name}</Button>\n\n                                </Card.Footer>\n                            </Card>\n\n                        </Col>\n\n                    </Row>\n\n                </Container>\n\n                <Modal className=\"modal-window\" show={this.state.modalShow} onHide={() => this.handleModal(false)}>\n                    <Modal.Body>\n                        <QueryForm finishQueryCreate={this.finishQueryPost} petId={this.state.petInfo.id} hospitalArr={this.props.vetHospital} closeModal={() => this.handleModal(false)} />\n                    </Modal.Body>\n                </Modal>\n\n                <Toast className=\"toast-window\" onClose={() => this.handletoast(false)} show={this.state.toast.show} delay={3000} >\n                    <Toast.Header>\n                        <strong className=\"mr-auto\">Mensaje</strong>\n                    </Toast.Header>\n                    <Toast.Body>{this.state.toast.text}</Toast.Body>\n                </Toast>\n\n            </>\n        )\n    }\n}\n\nexport default PetCardClient\n\n\n\n"]},"metadata":{},"sourceType":"module"}