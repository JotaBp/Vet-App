{"ast":null,"code":"import _defineProperty from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthService from'../../../service/auth.service';import FileService from'../../../service/file.service';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{Link}from'react-router-dom';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.handleInputChange=function(e){var signUpInfoCopy=_objectSpread({},_this.state.signUpInfo);var _e$target=e.target,name=_e$target.name,value=_e$target.value;signUpInfoCopy=_objectSpread(_objectSpread({},signUpInfoCopy),{},_defineProperty({},name,value));_this.setState({signUpInfo:signUpInfoCopy});};_this.handleSubmit=function(e){e.preventDefault();_this.authService.signup(_this.state.signUpInfo).then(function(response){_this.props.setTheUser(response.data);_this.props.history.push('/');}).catch(function(err){console.log(err);});};_this.state={signUpInfo:{username:'',email:'',password:'',role:'',profilePicPath:''},errorMessage:''};_this.authService=new AuthService();_this.filesService=new FileService();return _this;}_createClass(Signup,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:{span:6,offset:3}},/*#__PURE__*/React.createElement(\"h3\",null,\"Registro de usuario\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"name\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Usuario\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"username\",type:\"text\",value:this.state.username,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"email\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"email\",type:\"email\",value:this.state.email,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicCheckbox\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Que eres?\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",name:\"role\",value:this.state.role,onChange:this.handleInputChange},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"GUEST\"},\"Invitado\"),/*#__PURE__*/React.createElement(\"option\",{value:\"VETHOSPITAL\"},\"Hospital Veterinario\"),/*#__PURE__*/React.createElement(\"option\",{value:\"CLIENT\"},\"Mascotero\"))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"pwd\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"password\",type:\"password\",value:this.state.password,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(\"p\",{className:\"error-message\",style:{display:this.state.errorMessage?'block':'none'}},this.state.errorMessage),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",type:\"submit\"},\"Registrarme\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"small\",null,\"\\xBFYa tienes cuenta? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Inicia sesi\\xF3n\"))))));}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/pages/signup/Signup.js"],"names":["React","Component","AuthService","FileService","Container","Row","Col","Form","Button","Link","Signup","props","handleInputChange","e","signUpInfoCopy","state","signUpInfo","target","name","value","setState","handleSubmit","preventDefault","authService","signup","then","response","setTheUser","data","history","push","catch","err","console","log","username","email","password","role","profilePicPath","errorMessage","filesService","span","offset","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport AuthService from '../../../service/auth.service'\nimport FileService from '../../../service/file.service'\n\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport { Link } from 'react-router-dom'\n\n\nclass Signup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            signUpInfo: {\n                username: '',\n                email: '',\n                password: '',\n                role: '',\n                profilePicPath: ''\n            },\n            errorMessage: ''\n        }\n        this.authService = new AuthService()\n        this.filesService = new FileService()\n\n    }\n\n\n    handleInputChange = e => {\n\n        let signUpInfoCopy = { ...this.state.signUpInfo }\n        const { name, value } = e.target\n        signUpInfoCopy = { ...signUpInfoCopy, [name]: value }\n\n        this.setState({ signUpInfo: signUpInfoCopy })\n    }\n    \n\n\n\n    handleSubmit = e => {\n        e.preventDefault()\n        \n        this.authService.signup(this.state.signUpInfo)\n            .then(response => {\n                this.props.setTheUser(response.data)\n                this.props.history.push('/')\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n\n\n\n\n\n    render() {\n\n        return (\n            <Container>\n\n                <Row>\n                    <Col md={{ span: 6, offset: 3 }}>\n\n                        <h3>Registro de usuario</h3>\n                        <hr></hr>\n                        <Form onSubmit={this.handleSubmit}>\n\n                            <Form.Group controlId=\"name\">\n                                <Form.Label>Usuario</Form.Label>\n                                <Form.Control name=\"username\" type=\"text\" value={this.state.username} onChange={this.handleInputChange} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"email\">\n                                <Form.Label>Email</Form.Label>\n                                <Form.Control name=\"email\" type=\"email\" value={this.state.email} onChange={this.handleInputChange} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formBasicCheckbox\">\n                                <Form.Label>Que eres?</Form.Label>\n                                <Form.Control as=\"select\" name=\"role\" value={this.state.role} onChange={this.handleInputChange}>\n                                    <option defaultValue=\"GUEST\">Invitado</option>\n                                    <option value=\"VETHOSPITAL\">Hospital Veterinario</option>\n                                    <option value=\"CLIENT\">Mascotero</option>\n                                </Form.Control>\n                            </Form.Group>\n                            \n\n\n                            <Form.Group controlId=\"pwd\">\n                                <Form.Label>Contraseña</Form.Label>\n                                <Form.Control name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleInputChange} />\n                            </Form.Group>\n\n                            <p\n                                className='error-message'\n                                style={{ display: this.state.errorMessage ? 'block' : 'none' }}\n                            >{this.state.errorMessage}</p>\n\n                            <Button variant=\"dark\" type=\"submit\">Registrarme</Button>\n                        </Form>\n\n                        <p><small>¿Ya tienes cuenta? <Link to=\"/login\">Inicia sesión</Link></small></p>\n\n                    </Col>\n                </Row>\n\n            </Container>\n        )\n    }\n}\n\n\nexport default Signup\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}