{"ast":null,"code":"var _jsxFileName = \"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/App.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { hasRole } from './Auth';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Navigation from './ui/navbar/Navbar';\nimport PetsList from './pages/pets/petsList/PetsList';\nimport HomePage from './pages/homePage/HomePage';\nimport Signup from './pages/signup/Signup';\nimport Login from './pages/login/Login';\nimport DashboardHospital from './pages/dashboard/dashboardHospital/DashboardHospital';\nimport ProfileClient from './pages/profile/profileClient/ProfileClient';\nimport ProfileHospital from './pages/profile/profileHospital/ProfileHospital'; //Este no estÃ¡ terminado\n\nimport AuthService from '../service/auth.service';\nconst client = {\n  roles: ['CLIENT']\n};\nconst vetHospital = {\n  roles: ['VETHOSPITAL']\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = userObj => this.setState({\n      loggedInUser: userObj\n    }, () => console.log('El estado de App ha cambiado:', this.state));\n\n    this.fetchUser = () => {\n      if (this.state.loggedInUser === null) {\n        this.authService.isLoggedIn().then(response => this.setTheUser(response.data)).catch(() => this.setTheUser(false));\n      }\n    };\n\n    this.state = {\n      loggedInUser: null\n    };\n    this.authService = new AuthService();\n  }\n\n  render() {\n    this.fetchUser();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navigation, {\n      setTheUser: this.setTheUser,\n      loggedInUser: this.state.loggedInUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(HomePage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 50\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/pets\",\n      render: () => this.state.loggedInUser ? /*#__PURE__*/React.createElement(PetsList, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 73\n        }\n      }) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 127\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      render: props => /*#__PURE__*/React.createElement(Signup, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 52\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: props => /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 51\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/global\",\n      render: props => this.state.loggedInUser ? /*#__PURE__*/React.createElement(DashboardHospital, Object.assign({}, props, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 79\n        }\n      })) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 152\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: props => this.state.loggedInUser ? /*#__PURE__*/React.createElement(ProfileClient, Object.assign({}, props, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 80\n        }\n      })) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 149\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }), hasRole(user, ['C']) && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 38\n      }\n    }, \"Is User\"), hasRole(user, ['admin']) && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 34\n      }\n    }, \"Is Admin\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","hasRole","Navigation","PetsList","HomePage","Signup","Login","DashboardHospital","ProfileClient","ProfileHospital","AuthService","client","roles","vetHospital","App","constructor","setTheUser","userObj","setState","loggedInUser","console","log","state","fetchUser","authService","isLoggedIn","then","response","data","catch","render","props","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { hasRole } from './Auth';\n\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport Navigation from './ui/navbar/Navbar'\nimport PetsList from './pages/pets/petsList/PetsList'\nimport HomePage from './pages/homePage/HomePage'\nimport Signup from './pages/signup/Signup'\nimport Login from './pages/login/Login'\nimport DashboardHospital from './pages/dashboard/dashboardHospital/DashboardHospital'\nimport ProfileClient from './pages/profile/profileClient/ProfileClient'\nimport ProfileHospital from './pages/profile/profileHospital/ProfileHospital' //Este no estÃ¡ terminado\n\n\nimport AuthService from '../service/auth.service'\n\nconst client = {\n  roles: ['CLIENT'],\n};\n\nconst vetHospital = {\n  roles: ['VETHOSPITAL'],\n};\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n  }\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj }, () => console.log('El estado de App ha cambiado:', this.state))\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n\n  render() {\n\n    this.fetchUser()\n\n    return (\n      <>\n        <Navigation setTheUser={this.setTheUser} loggedInUser={this.state.loggedInUser} />\n\n        <main>\n\n          <Switch>\n            <Route path=\"/\" exact render= {() => <HomePage/> } />\n            <Route path=\"/pets\" render={() => this.state.loggedInUser ? <PetsList loggedInUser={this.state.loggedInUser} /> : <Redirect to=\"/\" />} />\n            <Route path=\"/signup\" render={props => <Signup {...props} setTheUser={this.setTheUser} />} />\n            <Route path=\"/login\" render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n            <Route path=\"/global\" render={ props => this.state.loggedInUser ? <DashboardHospital {...props} loggedInUser={this.state.loggedInUser}/> : <Redirect to=\"/login\" />} />\n            <Route path=\"/profile\" render={ props => this.state.loggedInUser ? <ProfileClient {...props} loggedInUser={this.state.loggedInUser}/> : <Redirect to=\"/login\" />} />\n            \n            {hasRole(user, ['C']) && <p>Is User</p>}\n    {hasRole(user, ['admin']) && <p>Is Admin</p>}\n            {/* <Route path=\"/profile/:id/edit\" exact render={props => <HospitalProfile {...props} /> }/> */}\n          </Switch>\n\n        </main>\n      </>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}