{"ast":null,"code":"import _classCallCheck from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route,Redirect}from'react-router-dom';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import Navigation from'./ui/navbar/Navbar';import HomePage from'./pages/homePage/HomePage';import Signup from'./pages/signup/Signup';import Login from'./pages/login/Login';import DashboardHospital from'./pages/dashboard/dashboardHospital/DashboardHospital';import DashboardClient from'./pages/dashboard/dashboardClient/DashboardClient';import ProfileClient from'./pages/profile/profileClient/ProfileClient';import ProfileHospital from'./pages/profile/profileHospital/ProfileHospital';//Este no está terminado\nimport AuthService from'../service/auth.service';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.setTheUser=function(userObj){return _this.setState({loggedInUser:userObj});};_this.fetchUser=function(){if(_this.state.loggedInUser===null){_this.authService.isLoggedIn().then(function(response){return _this.setTheUser(response.data);}).catch(function(){return _this.setTheUser(false);});}};_this.state={loggedInUser:null};_this.authService=new AuthService();return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;this.fetchUser();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navigation,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(HomePage,null);}}),/*#__PURE__*/React.createElement(Route,{path:\"/signup\",render:function render(props){return/*#__PURE__*/React.createElement(Signup,Object.assign({},props,{setTheUser:_this2.setTheUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{setTheUser:_this2.setTheUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/global\",render:function render(props){if(_this2.state.loggedInUser&&_this2.state.loggedInUser.role===\"VETHOSPITAL\"){return/*#__PURE__*/React.createElement(DashboardHospital,Object.assign({},props,{loggedInUser:_this2.state.loggedInUser}));}else if(_this2.state.loggedInUser&&_this2.state.loggedInUser.role===\"CLIENT\"){return/*#__PURE__*/React.createElement(DashboardClient,Object.assign({},props,{loggedInUser:_this2.state.loggedInUser}));}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}}),/*#__PURE__*/React.createElement(Route,{path:\"/profile\",render:function render(props){if(_this2.state.loggedInUser&&_this2.state.loggedInUser.role===\"VETHOSPITAL\"){return/*#__PURE__*/React.createElement(ProfileHospital,Object.assign({},props,{loggedInUser:_this2.state.loggedInUser}));}else if(_this2.state.loggedInUser&&_this2.state.loggedInUser.role===\"CLIENT\"){return/*#__PURE__*/React.createElement(ProfileClient,Object.assign({},props,{loggedInUser:_this2.state.loggedInUser}));}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}}))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/jotabp94/Documentos/Ironhack/Curso/Semana 8/Vet-App/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","Navigation","HomePage","Signup","Login","DashboardHospital","DashboardClient","ProfileClient","ProfileHospital","AuthService","App","setTheUser","userObj","setState","loggedInUser","fetchUser","state","authService","isLoggedIn","then","response","data","catch","props","role"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport Navigation from './ui/navbar/Navbar'\nimport HomePage from './pages/homePage/HomePage'\nimport Signup from './pages/signup/Signup'\nimport Login from './pages/login/Login'\nimport DashboardHospital from './pages/dashboard/dashboardHospital/DashboardHospital'\nimport DashboardClient from './pages/dashboard/dashboardClient/DashboardClient';\nimport ProfileClient from './pages/profile/profileClient/ProfileClient'\nimport ProfileHospital from './pages/profile/profileHospital/ProfileHospital' //Este no está terminado\n\nimport AuthService from '../service/auth.service'\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n  }\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj })\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n\n  render() {\n\n    this.fetchUser()\n\n    return (\n      <>\n        <Navigation setTheUser={this.setTheUser} loggedInUser={this.state.loggedInUser} />\n\n        <main>\n\n          <Switch>\n            <Route path=\"/\" exact render={() => <HomePage />} />\n            <Route path=\"/signup\" render={props => <Signup {...props} setTheUser={this.setTheUser} />} />\n            <Route path=\"/login\" render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n\n            <Route path=\"/global\" render={props => {\n\n              if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n\n                return (<DashboardHospital {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n\n                return (<DashboardClient {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else {\n\n                return (<Redirect to=\"/login\" />)\n              }\n\n            }} />\n\n\n            <Route path=\"/profile\" render={props => {\n\n              if (this.state.loggedInUser && this.state.loggedInUser.role === \"VETHOSPITAL\") {\n\n                return (<ProfileHospital {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else if (this.state.loggedInUser && this.state.loggedInUser.role === \"CLIENT\") {\n\n                return (<ProfileClient {...props} loggedInUser={this.state.loggedInUser} />)\n              }\n\n              else { return (<Redirect to=\"/login\" />) }\n            }} />\n\n          </Switch>\n\n        </main>\n      </>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}